<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Storage - 网盘系统</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- 登录界面 -->
        <div id="loginPage" class="page">
            <div class="login-container">
                <h2>登录 Cloud Storage</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="nickname">昵称:</label>
                        <input type="text" id="name" name="nickname" required>
                    </div>
                    <div class="form-group">
                        <label for="password">密码:</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <button type="submit">登录</button>
                </form>
                <p>没有账号？<a href="#" id="showRegister">注册</a></p>
            </div>
        </div>

        <!-- 注册界面 -->
        <div id="registerPage" class="page hidden">
            <div class="login-container">
                <h2>注册 Cloud Storage</h2>
                <form id="registerForm">
                    <div class="form-group">
                        <label for="nickname">昵称:</label>
                        <input type="text" id="nickname" name="nickname" required>
                    </div>
                    <div class="form-group">
                        <label for="regPassword">密码:</label>
                        <input type="password" id="regPassword" name="password" required>
                    </div>
                    <button type="submit">注册</button>
                </form>
                <p>已有账号？<a href="#" id="showLogin">登录</a></p>
            </div>
        </div>

        <!-- 主界面 -->
        <div id="mainPage" class="page hidden">
            <header class="header">
                <h1>Cloud Storage</h1>
                <div class="user-info">
                    <div class="user-dropdown">
                        <img id="userAvatar" src="http://localhost:9000/cloud-user/default.jpg" alt="用户头像" class="user-avatar">
                        <div id="userDropdownMenu" class="dropdown-menu hidden">
                            <div class="dropdown-item" id="userProfileBtn">
                                <span>个人信息</span>
                            </div>
                            <div class="dropdown-item" id="logoutBtn">
                                <span>退出</span>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <div class="main-content">
                <!-- 工具栏 -->
                <div class="toolbar">
                    <button id="uploadBtn" class="btn-primary">上传文件</button>
                    <button id="createFolderBtn" class="btn-secondary">新建文件夹</button>
                    <div class="breadcrumb">
                        <span id="currentPath">/</span>
                    </div>
                </div>

                <!-- 文件列表 -->
                <div class="file-list">
                    <div class="file-header">
                        <div class="file-name">名称</div>
                        <div class="file-size">大小</div>
                        <div class="file-date">修改时间</div>
                        <div class="file-actions">操作</div>
                    </div>
                    <div id="fileListContent">
                        <!-- 文件和文件夹列表 -->
                    </div>
                </div>
            </div>
        </div>

        <!-- 上传文件模态框 -->
        <div id="uploadModal" class="modal hidden">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3>上传文件</h3>
                <div class="upload-area" id="uploadArea">
                    <p>拖拽文件到此处或点击选择文件</p>
                    <input type="file" id="fileInput" multiple>
                </div>
                <div id="uploadProgress" class="upload-progress hidden">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <span id="progressText">0%</span>
                </div>
            </div>
        </div>

        <!-- 创建文件夹模态框 -->
        <div id="folderModal" class="modal hidden">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3>新建文件夹</h3>
                <form id="folderForm">
                    <div class="form-group">
                        <label for="folderName">文件夹名称:</label>
                        <input type="text" id="folderName" name="folderName" required>
                    </div>
                    <button type="submit">创建</button>
                </form>
            </div>
        </div>

        <!-- 个人信息模态框 -->
        <div id="profileModal" class="modal hidden">
            <div class="modal-content profile-modal">
                <span class="close">&times;</span>
                <h3>个人信息</h3>
                <div class="profile-content">
                    <div class="profile-section">
                        <div class="profile-avatar-section">
                            <img id="profileAvatar" src="" alt="用户头像" class="profile-avatar">
                            <button id="changeAvatarBtn" class="btn-secondary">更换头像</button>
                            <input type="file" id="avatarInput" accept="image/*" style="display: none;">
                        </div>
                        <div class="profile-info-section">
                            <form id="profileForm">
                                <div class="form-group">
                                    <label for="profileNickname">昵称:</label>
                                    <input type="text" id="profileNickname" name="nickname" required>
                                </div>
                                <div class="form-group">
                                    <label for="profileBirthday">生日:</label>
                                    <input type="date" id="profileBirthday" name="birthday">
                                </div>
                                <div class="form-group">
                                    <label>注册时间:</label>
                                    <span id="registerTime" class="info-text"></span>
                                </div>
                                <div class="profile-actions">
                                    <button type="submit" class="btn-primary">保存修改</button>
                                    <button type="button" id="cancelProfileBtn" class="btn-secondary">取消</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
